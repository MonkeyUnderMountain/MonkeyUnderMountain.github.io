\section{Finite field extensions}

\subsection{Finite-dimensional vector space}

    \begin{definition}\label{def:norm_on_vector_space_over_valuation_field}
        Let \(\kk\) be a valuation field and \(V\) a vector space over \(\kk\).
        A \emph{norm} on \(V\) is a function \(\|\cdot\|: V \to \bbR_{\geq 0}\) satisfying the following properties for all \(x, y \in V\) and \(a \in \kk\):
        \begin{enumerate}
            \item \(\|x\| = 0\) if and only if \(x = 0\);
            \item \(\|a x\| = |a| \cdot \|x\|\);
            \item \(\|x + y\| \leq \|x\| + \|y\|\).
        \end{enumerate}
    \end{definition}

    \begin{example}\label{def:maximal_norm_on_finite-dimensional_vector_space}
        Let \(\kk\) be a valuation field and \(V\) a finite-dimensional vector space over \(\kk\) with basis \(\{e_1, e_2, \ldots, e_n\}\).
        For any \(x = a_1 e_1 + a_2 e_2 + \cdots + a_n e_n \in V\), define
        \[
            \|x\|_{\max} := \max_{1 \leq i \leq n} |a_i|.
        \]
        Then \(\|\cdot\|_{\max}\) is a norm on \(V\), called the \emph{maximal norm} with respect to the basis \(\{e_1, e_2, \ldots, e_n\}\).
    \end{example}

    \begin{example}\label{def:1-norm_no_finite-dimensional_vector_space}
        Setting as in \cref{def:maximal_norm_on_finite-dimensional_vector_space}, for any \(x = a_1 e_1 + a_2 e_2 + \cdots + a_n e_n \in V\), define
        \[
            \|x\|_1 := |a_1| + |a_2| + \cdots + |a_n|.
        \]
        Then \(\|\cdot\|_1\) is also a norm on \(V\).
    \end{example}

    \begin{definition}\label{def:equivalent_norm_on_vector_space}
        Let \(\kk\) be a valuation field and \(V\) a vector space over \(\kk\).
        Two norms \(\|\cdot\|_1\) and \(\|\cdot\|_2\) on \(V\) are said to be \emph{equivalent} if there exist positive constants \(C_1, C_2 > 0\) such that for all \(x \in V\),
        \[
            C_1 \|x\|_1 \leq \|x\|_2 \leq C_2 \|x\|_1.
        \]
    \end{definition}

    \begin{lemma}\label{prop:norms_are_equivalent_iff_induces_the_same_topology}
        Let \(\kk\) be a valuation field and \(V\) a vector space over \(\kk\).
        Two norms \(\|\cdot\|_1\) and \(\|\cdot\|_2\) on \(V\) are equivalent if and only if they induce the same topology on \(V\).
    \end{lemma}
    \begin{proof}
        The sufficiency is clear.
        Now suppose that \(\|\cdot\|_1\) and \(\|\cdot\|_2\) induce the same topology on \(V\).
        Hence the unit open ball with respect to \(\|\cdot\|_1\) contains a unit open ball with respect to \(\|\cdot\|_2\).
        That is, 
        \[ \{x \in V : \|x\|_1 < 1\} \supseteq \{x \in V : \|x\|_2 < C\}. \]
        Then for every \(x \in V\) with \(\|x\|_1 = 1\), we have \(\|x\|_2 \geq C = C \|x\|_1\).
        By scaling, we get that for every \(x \in V\),
        \[ \|x\|_2 \geq C \|x\|_1. \]
        Similar for the other direction, we conclude that \(\|\cdot\|_1\) and \(\|\cdot\|_2\) are equivalent.
    \end{proof}

    \begin{proposition}\label{prop:finite_dimensional_vector_space_over_complete_fields_is_complete}
        Let \(V\) be a normed finite-dimensional vector space over a complete valuation field \(\kk\).
        Then \(V\) is complete.
    \end{proposition}
    \begin{proof}
        \Yang{To be added.}
    \end{proof}

    \begin{theorem}\label{prop:norm_on_finite_dimensional_vector_space_are_equivalent}
        Let \(V\) be a finite-dimensional vector space over a complete field \(\kk\).
        Then all norms on \(V\) are equivalent.
    \end{theorem}
    \begin{proof}
        Fix a basis \(\{e_1, e_2, \ldots, e_n\}\) of \(V\) and let \(\|\cdot\|_{\max}\) be the maximal norm with respect to this basis as in \cref{def:maximal_norm_on_finite-dimensional_vector_space}.
        Let \(\|\cdot\|\) be any norm on \(V\).
        It suffices to show that \(\|\cdot\|\) and \(\|\cdot\|_{\max}\) are equivalent.
        First we have 
        \[ \|y\| \leq \sum_{i=1}^n |a_i| \|e_i\| \leq \left(\sum_{i=1}^n \|e_i\|\right) \|y\|_{\max} \]
        for any \(y = a_1 e_1 + a_2 e_2 + \cdots + a_n e_n \in V\).
        It remains to show that there exists a constant \(C > 0\) such that for any \(y \in V\),
        \[ \|y\|_{\max} \leq C \|y\|. \]
        \Yang{To be added.}
    \end{proof}

    \begin{remark}\label{rmk:finite-dimensional_vector_space_over_non_complete_fields}
        If the base field \(\kk\) is not complete, then \cref{prop:norm_on_finite_dimensional_vector_space_are_equivalent} may fail.
        For example, let \(\kk = \bbQ\) with the usual absolute value, and let \(V = \bbQ[\alpha]\) with \(\alpha^2-\alpha-1=0\).
        There are two embeddings of \(V\) into \(\bbR\):
        \[ \iota_1: a + b\alpha \mapsto a + b\frac{1+\sqrt{5}}{2}, \quad \iota_2: a + b\alpha \mapsto a + b\frac{1-\sqrt{5}}{2}. \]
        Define two norms on \(V\) by
        \[
            \|x\|_1 := |\iota_1(x)|, \quad \|x\|_2 := |\iota_2(x)|,
        \]
        where \(|\cdot|\) is the usual absolute value on \(\bbR\).
        Then \(\|\cdot\|_1\) and \(\|\cdot\|_2\) are not equivalent since \(\iota_2(\alpha^n) \to 0\) as \(n \to \infty\) while \(\iota_1(\alpha^n) \to \infty\).
    \end{remark}

    The following lemma is a classical result in functional analysis, which will be used in the next subsection.

    \begin{lemma}\label{prop:operator_norm_on_M_n_k_with_k_complete}
        Let \(\kk\) be a complete field and \(V\) a normed finite-dimensional vector space over \(\kk\).
        Then 
        \[ \|\cdot\| : \End_{\kk}(V) \to \bbR_{\geq 0}, \quad T \mapsto \sup_{x \in V \setminus \{0\}} \frac{\|T(x)\|}{\|x\|} \]
        defines a norm on the \(\kk\)-vector space \(\End_{\kk}(V)\) satisfying
        \[ \|AB\| \leq \|A\| \cdot \|B\|, \quad \forall A, B \in \End_{\kk}(V). \]
    \end{lemma}
    \begin{proof}
        First we show the existence of the supremum, i.e., there exists \(C > 0\) such that for all \(x \in V \setminus \{0\}\), \(\|T(x)\| \leq C \|x\|\).
        Fix a basis \(\{e_1, e_2, \ldots, e_n\}\) of \(V\) and let \(\|\cdot\|_{\max}\) be the maximal norm with respect to this basis.
        Since all norms on \(V\) are bounded by each other by \cref{prop:norm_on_finite_dimensional_vector_space_are_equivalent}, we only need to show that there exists \(C > 0\) such that for all \(x \in V \setminus \{0\}\), \(\|T(x)\|_{1} \leq C \|x\|_{\max}\).
        Write \(T(e_i) = \sum_{j=1}^n a_{ij} e_j\) for \(1 \leq i \leq n\).
        For any \(x = \sum_{i=1}^n x_i e_i \in V\), we have
        \[ \|T(x)\|_1 = \left\|\sum_{j=1}^n \left(\sum_{i=1}^n a_{ij} x_i\right) e_j \right\|_1 = \sum_{j=1}^n \left|\sum_{i=1}^n a_{ij} x_i\right| \leq \left(\sum_{1 \leq i, j \leq n} |a_{ij}|\right) \|x\|_{\max}. \]
        Thus the supremum is finite.

        The linearity and positive-definiteness of \(\|\cdot\|\) are clear.
        It remains to show the triangle inequality and sub-multiplicativity.
        For any \(A, B \in \End_{\kk}(V)\), we have
        \[ \frac{\|(A + B)(x)\|}{\|x\|} = \frac{\|A(x)\|}{\|x\|} + \frac{\|B(x)\|}{\|x\|} \leq \|A\| + \|B\|. \]
        Taking supremum over all \(x \in V \setminus \{0\}\) gives \(\|A + B\| \leq \|A\| + \|B\|\).
        We have 
        \[ \|AB(x)\| \leq \|A\| \cdot \|B(x)\| \leq \|A\| \cdot \|B\| \cdot \|x\| \]
        and hence \(\|AB(x)\|/\|x\| \leq \|A\| \cdot \|B\|\).
        Taking supremum we get \(\|AB\| \leq \|A\| \cdot \|B\|\). 
    \end{proof}

\subsection{Finite field extensions}

    \begin{lemma}\label{prop:existence_of_absolute_value_on_finite_extension_of_complete_fields}
        Let \(\kk\) be a complete field and \(\bfl\) a finite extension of \(\kk\).
        Then there exists an absolute value on \(\bfl\) extending the absolute value on \(\kk\).
    \end{lemma}
    \begin{proof}
        Fix a norm \(\|\cdot\|_V\) on the \(\kk\)-vector space \(V = \bfl\).
        The norm \(\|\cdot\|_V\) induces an operator norm \(\|\cdot\|_{\op}\) on the \(\kk\)-vector space \(\End_{\kk}(V)\) as in \cref{prop:operator_norm_on_M_n_k_with_k_complete}.
        For any \(a \in \bfl\), let \(\mu_a \in \End_{\kk}(V)\) be the \(\kk\)-linear map defined by multiplication by \(a\).
        Note that \(a \mapsto \mu_a\) gives a embedding of \(\kk\)-algebras and if \(a \in \kk\), \(\|\mu_a\|_{\op} = \|a\|_{\kk}\).
        Thus the restriction of \(\|\cdot\|_{\op}\) to \(\bfl\) gives an norm on \(\bfl\) extending that on \(\kk\).
        The normed ring \((\bfl, \|\cdot\|_{\op})\) is a Banach ring since it is a finite-dimensional vector space over the complete field \(\kk\).
        By \cref{thm:norm_spectrum_of_Banach_rings_is_nonempty}, there exists a multiplicative seminorm \(\|\cdot\|_{\bfl}\) on \(\bfl\) bounded by \(\|\cdot\|_{\op}\).
        In particular, \(\|\cdot\|_{\bfl}\) is bounded by \(\|\cdot\|_{\kk}\) on \(\kk\).
        On a field, if one norm is bounded by another norm, then they must be equal (consider the inverse elements).
        Thus \(\|\cdot\|_{\bfl}\) extends the absolute value on \(\kk\).
    \end{proof}

    \begin{theorem}\label{prop:absolute_value_on_finite_extension_of_complete_fields}
        Let \(\kk\) be a complete field and \(\bfl\) a finite extension of \(\kk\).
        Then the absolute value on \(\bfl\) which extends the absolute value on \(\kk\) is uniquely determined by the absolute value on \(\kk\).
        Furthermore, we have 
        \[ \|\cdot\|_{\bfl} = \|N_{\bfl/\kk}(\cdot)\|_{\kk}^{1/n}, \]
        where \(n = [\bfl : \kk]\) and \(N_{\bfl/\kk}\) is the norm map from \(\bfl\) to \(\kk\).
        % \Yang{To be checked.}
    \end{theorem}
    \begin{proof}
        Let \(\|\cdot\|_{\bfl}\) be arbitrary absolute value on \(\bfl\) extending that on \(\kk\).
        We will show that \(\|\cdot\|_{\bfl}\) must be equal to \(\|N_{\bfl/\kk}(\cdot)\|_{\kk}^{1/n}\).
        For any \(a \in \bfl\), set \(b = a^n/N_{\bfl/\kk}(a) \in \bfl\).
        Then \(N_{\bfl/\kk}(b) = 1\) and 
        \[ \|b\|_{\bfl} = \frac{\|a\|_{\bfl}^n}{\|N_{\bfl/\kk}(a)\|_{\kk}}. \]
        Thus it suffices to show that \(\|b\|_{\bfl} = 1\) whenever \(N_{\bfl/\kk}(b) = 1\).

        Note that the norm map \(N_{\bfl/\kk}: \bfl \to \kk\) is the determinant of the \(\kk\)-linear map \(\mu_b \in \End_{\kk}(V)\) defined by multiplication by \(b\).
        Hence it is continuous on \(\bfl\) (since it is a polynomial in the entries of the matrix representation).
        If \(\|b\|_{\bfl} < 1\), then \(\|b^m\|_{\bfl} \to 0\) as \(m \to \infty\).
        Thus \(N_{\bfl/\kk}(b^m) = \det(\mu_{b^m}) \to 0\) as \(m \to \infty\), contradicting the fact that \(N_{\bfl/\kk}(b^m) = 1\) for all \(m\).
        Similarly, if \(\|b\|_{\bfl} > 1\), then just consider \(b^{-1}\).
    \end{proof}

    \begin{proposition}\label{prop:completion_of_algebraically_closed_valuation_fields_is_algebraically_closed}
        Let \(\kk\) be an algebraically closed valuation field.
        Then its completion \(\widehat{\kk}\) is also algebraically closed.
    \end{proposition}
    \begin{proof}
        Let \(f \in \widehat{\kk}[X]\) be a non-constant polynomial.
        We will show that \(f\) has a root in \(\widehat{\kk}\).
        Take a sequence of polynomials \(\{f_n\}_{n \in \bbN}\) in \(\kk[X]\) converging to \(f\) coefficient-wisely and of the same degree \(d\).
        Since \(\kk\) is algebraically closed, each \(f_n\) splits completely in \(\kk\) and hence in \(\widehat{\kk}\).
        Write \(f_n(X) = \prod_{i=1}^d (X - \alpha_{n,i})\) with \(\alpha_{n,i} \in \widehat{\kk}\).

        Let \(\bfl\) be a finite extension of \(\widehat{\kk}\) such that \(f\) has a root \(\alpha\) in \(\bfl\).
        For every \(\varepsilon > 0\), if there are infinitely many \(n\) such that \(\alpha_{n,i} \notin B(\alpha, \varepsilon)\) for all \(1 \leq i \leq d\), 
        then we have \(|f_n(\alpha)| \geq \varepsilon^d\) for infinitely many \(n\), contradicting the fact that \(f_n(\alpha) \to f(\alpha) = 0\).
        Thus for every \(\varepsilon > 0\), there exists \(N > 0\) such that for all \(n \geq N\), there exists \(1 \leq i \leq d\) with \(\alpha_{n,i} \in B(\alpha, \varepsilon)\).
        That is, we can find a sequence \(\alpha_{n,i_n} \in \kk\) converging to \(\alpha\).
        Since \(\widehat{\kk}\) is complete, we have \(\alpha \in \widehat{\kk}\).
    \end{proof}


\subsection{Ramification and inertia}

    In this subsection, we study the extensions of absolute values on finite field extensions.
    Note that we do not assume the base field to be complete.

    \begin{definition}\label{def:ramification_and_inertation_index}
        Let \(L/K\) be a finite field extension, and \(v \in M_K\) an absolute value on \(K\).
        We denote by \(w | v\) if \(w \in M_L\) is an absolute value on \(L\) extending \(v\).
        For each \(w | v\), we define the \emph{ramification index} \(e(w|v)\) and the \emph{inertia degree} \(f(w|v)\) by
        \[
            e(w|v) := [|\widehat{L}^\times|_w : |\widehat{K}^\times|_v], \quad f(w|v) := \frac{[\widehat{L}: \widehat{K}]}{e(w|v)},
        \]
        where \(\widehat{K}\) and \(\widehat{L}\) are the completions of \(K\) and \(L\) with respect to \(v\) and \(w\), respectively.
    \end{definition}

    \begin{lemma}\label{lem:inertia_index_and_degree_of_extensions_of_residue_fields}
        Suppose that \(v\) is non-archimedean and \(\calk_v\) and \(\call_w\) are the residue fields of \(K\) and \(L\) with respect to \(v\) and \(w\), respectively.
        Then we have
        \[
            f(w|v) = [\call_w : \calk_v].
        \]
    \end{lemma}

    \begin{remark}\label{rmk:definition_of_inertia_index}
        \Yang{To be added.}
    \end{remark}

    \begin{theorem}\label{prop:efg_relation_for_the_extensions_of_absolute_value}
        Let \(L/K\) be a finite field extension, and \(v \in M_K\) an absolute value on \(K\). Then we have
        \[
            \sum_{w \mid v} e(w|v) f(w|v) = [L : K].
        \]
    \end{theorem}

    Let \(L/K\) be a finite field extension, and \(v \in M_K\) an absolute value on \(K\).
    We have 
    \[ L \ten_K K_v \cong \prod_{w \mid v} L_w, \]
    where the product is taken over all absolute values \(w \in M_L\) extending \(v\).


    \begin{theorem}\label{thm:place_of_number_fields}
        Let \(\kk\) be a number field.
        Then 
        \[ M_\kk^\infty = \{\text{embeddings } \sigma: \kk \to \bbC\} \]
        and
        \[ M_\kk^\rmf = \{\text{non-zero prime ideals } \frakp \subseteq \calO_\kk\}. \]
        \Yang{To be revised.}
    \end{theorem}

    \begin{proposition}[Product formula]\label{prop:product_formula_for_number_fields}
        Let \(\kk\) be a number field.
        For each \(x \in \kk^\times\), we have
        \[
            \prod_{v \in M_\kk} |x|_v^{n_v} = 1,
        \]
        where
        \[
            n_v := \begin{cases}
                [\kk_v : \bbR], & v \in M_\kk^\infty; \\
                1, & v \in M_\kk^0.
            \end{cases}
        \]
        \Yang{To be revised.}
    \end{proposition}

    
    \begin{remark}\label{rmk:about_Einsention_criterion_and_mod_p_criterion}
        Let \(L/K\) be a finite field extension, and \(v \in M_K\) an absolute value on \(K\).
        Suppose that \(v\) is non-archimedean.
        \Yang{To be rewritten.}
    \end{remark}